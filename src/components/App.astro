---
import type { CodetecaApp, Status } from "../data/types";

const { name, description, slug, tags, repo } = Astro.props as CodetecaApp;

const statusLabel = (s?: Status) =>
  s === "active"
    ? "Active"
    : s === "experimental"
      ? "Experimental"
      : s === "archived"
        ? "Archived"
        : "App";
---

<article class="app-card font-geist">
  <a href={`/projects/${slug}`}>
    <header class="head">
      <p class="title">{name}</p>
      <ul class="tags font-codelatin">
        {tags?.map((tag: string) => <li class="tag">{tag}</li>)}
      </ul>
    </header>

    <section>
      <p class="desc">{description}</p>
    </section>

    <footer>
      <a href={repo}>
        <img src="/github.png" alt="Github icon" width="30" height="30" />
      </a>
    </footer>
  </a>
</article>

<style>
  .tags {
    list-style: none;
    justify-content: center;
    display: flex;
    gap: 10px;
    flex-wrap: wrap;
    padding: 0;
  }

  .tag {
    padding: 5px;
    font-size: 0.8em;
    color: var(--muted);
    border: 1px solid var(--border);
    border-radius: 5px;
  }

  .app-card {
    --shadow: 0 8px 20px rgba(17, 24, 39, 0.08);
    margin: 1rem;
    max-width: 500px;
    padding: 16px;
    gap: 10px;
    box-shadow: var(--shadow);
    flex: 1;

    display: flex;
    flex-direction: column;
  }

  .title {
    text-align: center;
    font-size: 2em;
    font-weight: 400;
    margin: 0;
  }

  footer {
    margin-top: auto;
  }

  a {
    color: inherit;
    text-decoration: none;
    display: block;
  }
</style>
